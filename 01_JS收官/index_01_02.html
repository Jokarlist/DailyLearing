<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>index</title>
</head>

<body>
  <script type="text/javascript">
    // 封装getElementsByClassName方法
    Element.prototype.getElementsByClassName =
      Document.prototype.getElementsByClassName =
      document.getElementsByClassName ||
      function (className) {
        var trimSpace = function (str) {
          var reg1 = /\s+/g; // 合并多个类名之间的空格
          var reg2 = /^\s* | \s*$/g; // 除去字符串首尾空格
          return str.replace(reg1, " ").replace(reg2, "");
        };

        var elemArr = this.getElementsByTagName("*");
        var elemLen = elemArr.length;
        var sameClass = [];

        for (var i = 0; i < elemLen; i++) {
          var singleElemClassName = trimSpace(elemArr[i].className).split(" ");
          var classLen = singleElemClassName.length;
          for (var j = 0; j < classLen; j++) {
            if (singleElemClassName[j] === className) {
              sameClass.push(elemArr[i]);
              break;
            }
          }
        }
        return sameClass;
      };
  </script>
</body>

</html>